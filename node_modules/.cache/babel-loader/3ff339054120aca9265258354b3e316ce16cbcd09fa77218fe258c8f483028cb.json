{"ast":null,"code":"var _jsxFileName = \"/Users/taro/mara-hack/src/components/EventSimulator.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EventSimulator = ({\n  siteData,\n  onSimulationUpdate,\n  onResetData\n}) => {\n  _s();\n  const [isSimulating, setIsSimulating] = useState(false);\n  const [simulationActive, setSimulationActive] = useState(false);\n  const [currentEvent, setCurrentEvent] = useState(null);\n  const [prompt, setPrompt] = useState('');\n  const [aiResponse, setAiResponse] = useState('');\n  const OPENROUTER_API_KEY = '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';\n\n  // Event impact profiles\n  const eventImpacts = {\n    'heat_wave': {\n      name: 'Heat Wave',\n      description: 'Extreme temperatures causing thermal throttling and grid curtailment',\n      effects: {\n        'RockdaleTX': {\n          multiplier: 0.3,\n          reason: 'ERCOT curtailment orders'\n        },\n        'AtlantaGA': {\n          multiplier: 0.4,\n          reason: 'Thermal throttling'\n        },\n        'MemphisTN': {\n          multiplier: 0.4,\n          reason: 'Thermal throttling'\n        },\n        'TulsaOK': {\n          multiplier: 0.5,\n          reason: 'Grid demand spikes'\n        },\n        'LincolnNE': {\n          multiplier: 0.6,\n          reason: 'Moderate thermal impact'\n        }\n      }\n    },\n    'cold_snap': {\n      name: 'Cold Snap',\n      description: 'Extreme cold improving cooling but risking grid instability',\n      effects: {\n        'CheyenneWY': {\n          multiplier: 0.2,\n          reason: 'Grid instability and outages'\n        },\n        'ButteMT': {\n          multiplier: 0.3,\n          reason: 'Power line failures'\n        },\n        'ColumbusOH': {\n          multiplier: 0.4,\n          reason: 'Demand spike risks'\n        },\n        'LincolnNE': {\n          multiplier: 0.5,\n          reason: 'Grid strain'\n        }\n      }\n    },\n    'drought': {\n      name: 'Severe Drought',\n      description: 'Water scarcity reducing hydro mining capacity',\n      effects: {\n        'BoiseID': {\n          multiplier: 0.1,\n          reason: 'Hydro capacity severely reduced'\n        },\n        'ButteMT': {\n          multiplier: 0.3,\n          reason: 'Hydro mining curtailed'\n        },\n        'MassenaND': {\n          multiplier: 0.4,\n          reason: 'Water restrictions'\n        }\n      }\n    },\n    'flooding': {\n      name: 'Major Flooding',\n      description: 'Infrastructure damage and access issues',\n      effects: {\n        'MassenaND': {\n          multiplier: 0.1,\n          reason: 'Facility flooding'\n        },\n        'AtlantaGA': {\n          multiplier: 0.2,\n          reason: 'Infrastructure damage'\n        },\n        'MemphisTN': {\n          multiplier: 0.3,\n          reason: 'Access roads flooded'\n        }\n      }\n    },\n    'wildfire': {\n      name: 'Wildfire Emergency',\n      description: 'Grid instability and forced shutdowns for safety',\n      effects: {\n        'ButteMT': {\n          multiplier: 0.0,\n          reason: 'Emergency shutdown'\n        },\n        'CheyenneWY': {\n          multiplier: 0.1,\n          reason: 'Smoke damage risk'\n        },\n        'BoiseID': {\n          multiplier: 0.2,\n          reason: 'Grid instability'\n        }\n      }\n    },\n    'tornado': {\n      name: 'Tornado Outbreak',\n      description: 'Infrastructure damage and power disruption',\n      effects: {\n        'TulsaOK': {\n          multiplier: 0.0,\n          reason: 'Direct infrastructure damage'\n        },\n        'RockdaleTX': {\n          multiplier: 0.2,\n          reason: 'Grid disruption'\n        },\n        'AtlantaGA': {\n          multiplier: 0.3,\n          reason: 'Power line damage'\n        }\n      }\n    },\n    'blizzard': {\n      name: 'Severe Blizzard',\n      description: 'Power line failures despite good cooling conditions',\n      effects: {\n        'ButteMT': {\n          multiplier: 0.1,\n          reason: 'Power line ice damage'\n        },\n        'CheyenneWY': {\n          multiplier: 0.2,\n          reason: 'Grid infrastructure failure'\n        },\n        'ColumbusOH': {\n          multiplier: 0.3,\n          reason: 'Transmission issues'\n        }\n      }\n    }\n  };\n  const callOpenRouterAPI = async userPrompt => {\n    try {\n      const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${OPENROUTER_API_KEY}`,\n          'Content-Type': 'application/json',\n          'HTTP-Referer': window.location.origin,\n          'X-Title': 'MARA Mining Simulator'\n        },\n        body: JSON.stringify({\n          model: 'anthropic/claude-3.5-haiku',\n          messages: [{\n            role: 'system',\n            content: `You are a mining operations analyst. Analyze natural disaster scenarios and their impact on cryptocurrency mining facilities across the US. Available events: heat waves, cold snaps, drought, flooding, wildfires, tornadoes, blizzards, lightning storms. \n\n              Available mining sites: RockdaleTX, CheyenneWY, ButteMT, BoiseID, MassenaND, AtlantaGA, MemphisTN, TulsaOK, LincolnNE, ColumbusOH.\n\n              Respond with:\n              1. Event type identified\n              2. Realistic timeline (hours/days)  \n              3. Which sites are affected and why\n              4. Brief explanation of impacts\n\n              Keep responses concise and technical.`\n          }, {\n            role: 'user',\n            content: userPrompt\n          }],\n          temperature: 0.7,\n          max_tokens: 300\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`API request failed: ${response.status}`);\n      }\n      const data = await response.json();\n      return data.choices[0].message.content;\n    } catch (error) {\n      console.error('OpenRouter API Error:', error);\n      return `Analysis unavailable. Simulating based on prompt: \"${userPrompt}\"`;\n    }\n  };\n  const determineEventFromPrompt = prompt => {\n    const promptLower = prompt.toLowerCase();\n    if (promptLower.includes('heat') || promptLower.includes('hot') || promptLower.includes('temperature')) return 'heat_wave';\n    if (promptLower.includes('cold') || promptLower.includes('freeze') || promptLower.includes('winter')) return 'cold_snap';\n    if (promptLower.includes('drought') || promptLower.includes('dry') || promptLower.includes('water')) return 'drought';\n    if (promptLower.includes('flood') || promptLower.includes('rain') || promptLower.includes('hurricane')) return 'flooding';\n    if (promptLower.includes('fire') || promptLower.includes('smoke') || promptLower.includes('burn')) return 'wildfire';\n    if (promptLower.includes('tornado') || promptLower.includes('twister') || promptLower.includes('storm')) return 'tornado';\n    if (promptLower.includes('blizzard') || promptLower.includes('snow') || promptLower.includes('ice')) return 'blizzard';\n    return 'heat_wave'; // default\n  };\n  const simulateEvent = async () => {\n    if (!prompt.trim()) return;\n    setIsSimulating(true);\n    setAiResponse('Pulling historic weather data and analyzing impact patterns...');\n\n    // Get AI analysis\n    const aiAnalysis = await callOpenRouterAPI(prompt);\n    setAiResponse(aiAnalysis);\n\n    // Determine event type and apply effects\n    const eventType = determineEventFromPrompt(prompt);\n    const eventData = eventImpacts[eventType];\n    setCurrentEvent(eventData);\n    setSimulationActive(true);\n\n    // Apply effects to site data\n    const updatedSites = siteData.sites.map(site => {\n      const effect = eventData.effects[site.id];\n      if (effect) {\n        const newProfit = Math.round(site.optimization.net_profit * effect.multiplier);\n        return {\n          ...site,\n          optimization: {\n            ...site.optimization,\n            net_profit: newProfit,\n            simulated: true,\n            event_impact: effect.reason\n          }\n        };\n      }\n      return site;\n    });\n    const newTotalProfit = updatedSites.reduce((sum, site) => sum + site.optimization.net_profit, 0);\n    onSimulationUpdate({\n      ...siteData,\n      sites: updatedSites,\n      total_profit: newTotalProfit,\n      simulation_active: true,\n      current_event: eventData\n    });\n    setIsSimulating(false);\n  };\n  const resetSimulation = () => {\n    setSimulationActive(false);\n    setCurrentEvent(null);\n    setAiResponse('');\n    setPrompt('');\n    onResetData();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sidebar-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"sidebar-title\",\n      children: \"Event Simulator\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), simulationActive && currentEvent && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"simulation-active\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"event-banner\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-name\",\n          children: currentEvent.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-description\",\n          children: currentEvent.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: resetSimulation,\n        className: \"reset-button\",\n        children: \"Reset to Normal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"simulation-input\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: prompt,\n        onChange: e => setPrompt(e.target.value),\n        placeholder: \"Simulate natural events: 'What happens during a severe heat wave in Texas?' or 'Model wildfire impacts in Montana'\",\n        className: \"simulation-prompt\",\n        rows: \"3\",\n        disabled: isSimulating\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: simulateEvent,\n        disabled: isSimulating || !prompt.trim(),\n        className: \"simulate-button\",\n        children: isSimulating ? 'Analyzing...' : 'Run Simulation'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), aiResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ai-response\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"response-title\",\n        children: \"Analysis Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"response-content\",\n        children: aiResponse\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }, this), simulationActive && currentEvent && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"impact-summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-title\",\n        children: \"Current Impacts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"impact-list\",\n        children: Object.entries(currentEvent.effects).map(([siteId, effect]) => {\n          const site = siteData.sites.find(s => s.id === siteId);\n          if (!site) return null;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"impact-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"impact-site\",\n              children: site.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"impact-effect\",\n              children: [Math.round((1 - effect.multiplier) * 100), \"% reduction\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"impact-reason\",\n              children: effect.reason\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 19\n            }, this)]\n          }, siteId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n};\n_s(EventSimulator, \"0dFooj3KIcq+Au1qYY0rC3Jolwg=\");\n_c = EventSimulator;\nexport default EventSimulator;\nvar _c;\n$RefreshReg$(_c, \"EventSimulator\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","EventSimulator","siteData","onSimulationUpdate","onResetData","_s","isSimulating","setIsSimulating","simulationActive","setSimulationActive","currentEvent","setCurrentEvent","prompt","setPrompt","aiResponse","setAiResponse","OPENROUTER_API_KEY","eventImpacts","name","description","effects","multiplier","reason","callOpenRouterAPI","userPrompt","response","fetch","method","headers","window","location","origin","body","JSON","stringify","model","messages","role","content","temperature","max_tokens","ok","Error","status","data","json","choices","message","error","console","determineEventFromPrompt","promptLower","toLowerCase","includes","simulateEvent","trim","aiAnalysis","eventType","eventData","updatedSites","sites","map","site","effect","id","newProfit","Math","round","optimization","net_profit","simulated","event_impact","newTotalProfit","reduce","sum","total_profit","simulation_active","current_event","resetSimulation","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","value","onChange","e","target","placeholder","rows","disabled","Object","entries","siteId","find","s","_c","$RefreshReg$"],"sources":["/Users/taro/mara-hack/src/components/EventSimulator.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst EventSimulator = ({ siteData, onSimulationUpdate, onResetData }) => {\n  const [isSimulating, setIsSimulating] = useState(false);\n  const [simulationActive, setSimulationActive] = useState(false);\n  const [currentEvent, setCurrentEvent] = useState(null);\n  const [prompt, setPrompt] = useState('');\n  const [aiResponse, setAiResponse] = useState('');\n\n  const OPENROUTER_API_KEY = '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';\n\n  // Event impact profiles\n  const eventImpacts = {\n    'heat_wave': {\n      name: 'Heat Wave',\n      description: 'Extreme temperatures causing thermal throttling and grid curtailment',\n      effects: {\n        'RockdaleTX': { multiplier: 0.3, reason: 'ERCOT curtailment orders' },\n        'AtlantaGA': { multiplier: 0.4, reason: 'Thermal throttling' },\n        'MemphisTN': { multiplier: 0.4, reason: 'Thermal throttling' },\n        'TulsaOK': { multiplier: 0.5, reason: 'Grid demand spikes' },\n        'LincolnNE': { multiplier: 0.6, reason: 'Moderate thermal impact' }\n      }\n    },\n    'cold_snap': {\n      name: 'Cold Snap',\n      description: 'Extreme cold improving cooling but risking grid instability',\n      effects: {\n        'CheyenneWY': { multiplier: 0.2, reason: 'Grid instability and outages' },\n        'ButteMT': { multiplier: 0.3, reason: 'Power line failures' },\n        'ColumbusOH': { multiplier: 0.4, reason: 'Demand spike risks' },\n        'LincolnNE': { multiplier: 0.5, reason: 'Grid strain' }\n      }\n    },\n    'drought': {\n      name: 'Severe Drought',\n      description: 'Water scarcity reducing hydro mining capacity',\n      effects: {\n        'BoiseID': { multiplier: 0.1, reason: 'Hydro capacity severely reduced' },\n        'ButteMT': { multiplier: 0.3, reason: 'Hydro mining curtailed' },\n        'MassenaND': { multiplier: 0.4, reason: 'Water restrictions' }\n      }\n    },\n    'flooding': {\n      name: 'Major Flooding',\n      description: 'Infrastructure damage and access issues',\n      effects: {\n        'MassenaND': { multiplier: 0.1, reason: 'Facility flooding' },\n        'AtlantaGA': { multiplier: 0.2, reason: 'Infrastructure damage' },\n        'MemphisTN': { multiplier: 0.3, reason: 'Access roads flooded' }\n      }\n    },\n    'wildfire': {\n      name: 'Wildfire Emergency',\n      description: 'Grid instability and forced shutdowns for safety',\n      effects: {\n        'ButteMT': { multiplier: 0.0, reason: 'Emergency shutdown' },\n        'CheyenneWY': { multiplier: 0.1, reason: 'Smoke damage risk' },\n        'BoiseID': { multiplier: 0.2, reason: 'Grid instability' }\n      }\n    },\n    'tornado': {\n      name: 'Tornado Outbreak',\n      description: 'Infrastructure damage and power disruption',\n      effects: {\n        'TulsaOK': { multiplier: 0.0, reason: 'Direct infrastructure damage' },\n        'RockdaleTX': { multiplier: 0.2, reason: 'Grid disruption' },\n        'AtlantaGA': { multiplier: 0.3, reason: 'Power line damage' }\n      }\n    },\n    'blizzard': {\n      name: 'Severe Blizzard',\n      description: 'Power line failures despite good cooling conditions',\n      effects: {\n        'ButteMT': { multiplier: 0.1, reason: 'Power line ice damage' },\n        'CheyenneWY': { multiplier: 0.2, reason: 'Grid infrastructure failure' },\n        'ColumbusOH': { multiplier: 0.3, reason: 'Transmission issues' }\n      }\n    }\n  };\n\n  const callOpenRouterAPI = async (userPrompt) => {\n    try {\n      const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${OPENROUTER_API_KEY}`,\n          'Content-Type': 'application/json',\n          'HTTP-Referer': window.location.origin,\n          'X-Title': 'MARA Mining Simulator'\n        },\n        body: JSON.stringify({\n          model: 'anthropic/claude-3.5-haiku',\n          messages: [\n            {\n              role: 'system',\n              content: `You are a mining operations analyst. Analyze natural disaster scenarios and their impact on cryptocurrency mining facilities across the US. Available events: heat waves, cold snaps, drought, flooding, wildfires, tornadoes, blizzards, lightning storms. \n\n              Available mining sites: RockdaleTX, CheyenneWY, ButteMT, BoiseID, MassenaND, AtlantaGA, MemphisTN, TulsaOK, LincolnNE, ColumbusOH.\n\n              Respond with:\n              1. Event type identified\n              2. Realistic timeline (hours/days)  \n              3. Which sites are affected and why\n              4. Brief explanation of impacts\n\n              Keep responses concise and technical.`\n            },\n            {\n              role: 'user',\n              content: userPrompt\n            }\n          ],\n          temperature: 0.7,\n          max_tokens: 300\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(`API request failed: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data.choices[0].message.content;\n    } catch (error) {\n      console.error('OpenRouter API Error:', error);\n      return `Analysis unavailable. Simulating based on prompt: \"${userPrompt}\"`;\n    }\n  };\n\n  const determineEventFromPrompt = (prompt) => {\n    const promptLower = prompt.toLowerCase();\n    if (promptLower.includes('heat') || promptLower.includes('hot') || promptLower.includes('temperature')) return 'heat_wave';\n    if (promptLower.includes('cold') || promptLower.includes('freeze') || promptLower.includes('winter')) return 'cold_snap';\n    if (promptLower.includes('drought') || promptLower.includes('dry') || promptLower.includes('water')) return 'drought';\n    if (promptLower.includes('flood') || promptLower.includes('rain') || promptLower.includes('hurricane')) return 'flooding';\n    if (promptLower.includes('fire') || promptLower.includes('smoke') || promptLower.includes('burn')) return 'wildfire';\n    if (promptLower.includes('tornado') || promptLower.includes('twister') || promptLower.includes('storm')) return 'tornado';\n    if (promptLower.includes('blizzard') || promptLower.includes('snow') || promptLower.includes('ice')) return 'blizzard';\n    return 'heat_wave'; // default\n  };\n\n  const simulateEvent = async () => {\n    if (!prompt.trim()) return;\n\n    setIsSimulating(true);\n    setAiResponse('Pulling historic weather data and analyzing impact patterns...');\n\n    // Get AI analysis\n    const aiAnalysis = await callOpenRouterAPI(prompt);\n    setAiResponse(aiAnalysis);\n\n    // Determine event type and apply effects\n    const eventType = determineEventFromPrompt(prompt);\n    const eventData = eventImpacts[eventType];\n    \n    setCurrentEvent(eventData);\n    setSimulationActive(true);\n\n    // Apply effects to site data\n    const updatedSites = siteData.sites.map(site => {\n      const effect = eventData.effects[site.id];\n      if (effect) {\n        const newProfit = Math.round(site.optimization.net_profit * effect.multiplier);\n        return {\n          ...site,\n          optimization: {\n            ...site.optimization,\n            net_profit: newProfit,\n            simulated: true,\n            event_impact: effect.reason\n          }\n        };\n      }\n      return site;\n    });\n\n    const newTotalProfit = updatedSites.reduce((sum, site) => sum + site.optimization.net_profit, 0);\n\n    onSimulationUpdate({\n      ...siteData,\n      sites: updatedSites,\n      total_profit: newTotalProfit,\n      simulation_active: true,\n      current_event: eventData\n    });\n\n    setIsSimulating(false);\n  };\n\n  const resetSimulation = () => {\n    setSimulationActive(false);\n    setCurrentEvent(null);\n    setAiResponse('');\n    setPrompt('');\n    onResetData();\n  };\n\n  return (\n    <div className=\"sidebar-section\">\n      <h3 className=\"sidebar-title\">Event Simulator</h3>\n      \n      {simulationActive && currentEvent && (\n        <div className=\"simulation-active\">\n          <div className=\"event-banner\">\n            <div className=\"event-name\">{currentEvent.name}</div>\n            <div className=\"event-description\">{currentEvent.description}</div>\n          </div>\n          <button onClick={resetSimulation} className=\"reset-button\">\n            Reset to Normal\n          </button>\n        </div>\n      )}\n\n      <div className=\"simulation-input\">\n        <textarea\n          value={prompt}\n          onChange={(e) => setPrompt(e.target.value)}\n          placeholder=\"Simulate natural events: 'What happens during a severe heat wave in Texas?' or 'Model wildfire impacts in Montana'\"\n          className=\"simulation-prompt\"\n          rows=\"3\"\n          disabled={isSimulating}\n        />\n        \n        <button \n          onClick={simulateEvent} \n          disabled={isSimulating || !prompt.trim()}\n          className=\"simulate-button\"\n        >\n          {isSimulating ? 'Analyzing...' : 'Run Simulation'}\n        </button>\n      </div>\n\n      {aiResponse && (\n        <div className=\"ai-response\">\n          <div className=\"response-title\">Analysis Results</div>\n          <div className=\"response-content\">{aiResponse}</div>\n        </div>\n      )}\n\n      {simulationActive && currentEvent && (\n        <div className=\"impact-summary\">\n          <div className=\"summary-title\">Current Impacts</div>\n          <div className=\"impact-list\">\n            {Object.entries(currentEvent.effects).map(([siteId, effect]) => {\n              const site = siteData.sites.find(s => s.id === siteId);\n              if (!site) return null;\n              \n              return (\n                <div key={siteId} className=\"impact-item\">\n                  <div className=\"impact-site\">{site.name}</div>\n                  <div className=\"impact-effect\">\n                    {Math.round((1 - effect.multiplier) * 100)}% reduction\n                  </div>\n                  <div className=\"impact-reason\">{effect.reason}</div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EventSimulator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}